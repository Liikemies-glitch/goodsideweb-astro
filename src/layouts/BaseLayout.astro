---
// src/layouts/BaseLayout.astro
import '../styles/styles.css'; // Import global styles

// Define props for dynamic title and description
interface Props {
	title: string;
	description: string;
    ogImage?: string; // Add optional ogImage prop
}

const { title, description, ogImage } = Astro.props; // Destructure ogImage
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const defaultOgImage = new URL('/images/brand/logo.webp', Astro.url.origin).toString(); // Using logo as default

// Determine the final Open Graph image URL
const finalOgImage = ogImage 
    ? new URL(ogImage, Astro.url.origin).toString() 
    : defaultOgImage;
---
<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content={description}>
    <title>{title}</title>

    {/* Favicon Links - Assuming files are in /public/ */}
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="icon" type="image/x-icon" href="/favicon.ico"> {/* Fallback for older browsers */}
    {/* Optional: Add SVG icon link if you have one */}
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">

    <!-- Preload fonts for better performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Astro will handle CSS bundling, this is imported above -->
    <!-- <link rel="stylesheet" href="/styles.css"> -->
    <script is:inline src="/scripts/main.js"></script> <!-- Link main JS -->

    {/* Open Graph / Facebook */}    <meta property="og:type" content="website">
    <meta property="og:url" content={canonicalURL}>
    <meta property="og:title" content={title}>
    <meta property="og:description" content={description}>
    <meta property="og:image" content={finalOgImage}>

    {/* Twitter */}    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content={canonicalURL}>
    <meta property="twitter:title" content={title}>
    <meta property="twitter:description" content={description}>
    <meta property="twitter:image" content={finalOgImage}>

    {/* Canonical URL */}
    <link rel="canonical" href={canonicalURL} />
</head>
<body>
    <!-- Header/Navigation -->
    <header class="header">
        <nav class="nav container">
            <a href="/" class="nav__logo">
                <!-- Update image path -->
                <img src="/images/brand/logo.webp" alt="The Good Side" width="140" height="32">
            </a>
            <button class="nav__toggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav__menu">
                <!-- Update links to use root-relative paths -->
                <li><a href="/palvelut">Palvelut</a></li>
                <li><a href="/referenssit">Referenssit</a></li>
                <li><a href="/blog">Blogi</a></li>
                {/* <li><a href="/#materiaalit">Materiaalit</a></li> */}
                <li><a href="/#hinnat">Hinnat</a></li>
                <li><a href="/contact" class="btn btn--primary">Ota yhteyttä</a></li>
            </ul>
        </nav>
    </header>

    <main style="padding-top: 5rem;">
        <!-- Page-specific content will be injected here -->
        <slot />
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__grid">
                <div class="footer__brand">
                    <a href="/" class="footer__logo">
                        <img src="/images/brand/logo.webp" alt="The Good Side" width="140" height="32">
                    </a>
                    <p>Autamme tuotetiimejä rakentamaan menestyvää SaaS-liiketoimintaa.</p>
                    <p>&copy; {new Date().getFullYear()} The Good Side Oy. Kaikki oikeudet pidätetään.</p>
                </div>
                <div class="footer__links">
                    <h4>Sivusto</h4>
                    <ul>
                        <li><a href="/">Etusivu</a></li>
                        <li><a href="/palvelut">Palvelut</a></li>
                        <li><a href="/referenssit">Referenssit</a></li>
                        <li><a href="/blog">Blogi</a></li>
                        <li><a href="/contact">Ota yhteyttä</a></li>
                    </ul>
                </div>
                <div class="footer__links">
                    <h4>Seuraa meitä</h4>
                    <ul>
                        <li><a href="https://www.linkedin.com/company/the-good-side-oy/" target="_blank">LinkedIn</a></li>
                        <!-- Add other social links if needed -->
                    </ul>
                </div>
                <div class="footer__contact">
                    <h4>Ota yhteyttä</h4>
                    <p><strong>Mikki Aalto-Ylevä</strong></p>
                    <p><a href="tel:0408698887">040 869 8887</a></p>
                    <p><a href="mailto:mikki@goodside.fi">mikki@goodside.fi</a></p>
                </div>
            </div>
        </div>
    </footer>

</body>
</html> 